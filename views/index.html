<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Websocket tutorial</title>

    <!-- Bootstrap -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
            integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
            integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
            crossorigin="anonymous"></script>
    <link rel="stylesheet" href="/stylesheets/bootstrap.min.css">
    <script src="/javascripts/bootstrap.bundle.min.js"></script>

    <!-- Font Awesome -->
    <script src="https://kit.fontawesome.com/6c6025ea9e.js" crossorigin="anonymous"></script>

    <!-- Lodash -->
    <script src="/javascripts/lodash.js"></script>

    <!-- CSS -->
    <link rel="stylesheet" href="/stylesheets/style.css">

    <!-- JS -->
    <script src="http://localhost:3000/socket.io/socket.io.js"></script>
    <script>
        const socket = io("http://localhost:3000");
    </script>
    <script src="/javascripts/data-acquisition-management.js"></script>
</head>

<body>

<div class="sidebar">
    <a class="d-flex justify-content-center" href="/">
        <img src="/images/xmen.png" alt="X-Men logo" width="80px">
    </a>
    <hr class="sidebar-divider my-0">
</div>

<div class="main">
    <h2>XCEREBRO - Data acquisition</h2>
    <br/>
    <div class="container">
        <div class="row justify-content-sm-center">
            <div class="col-sm-4">
                <div class="card events">
                    <div class="card-body form-group">
                        <h5 class="card-title">Events</h5>
                        <ul id="events-queue" class="list-group">
                        </ul>

                        <div class="form-check">
                            <input type="checkbox" id="loop-cb" class="form-check-input">
                            <label class="form-check-label" for="loop-cb">Loop</label>
                        </div>

                        <br/>

                        <div class="input-group input-group-sm mb-3">
                            <div class="input-group-prepend">
                                <span class="input-group-text" id="input-loop-times">Loop times</span>
                            </div>
                            <input type="number" id="loop-times-input" class="form-control"
                                   placeholder="Loop times to record data"
                                   aria-label="Loop times" aria-describedby="input-loop-times">
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-4">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Add event</h5>
                        <div class="input-group input-group-sm mb-3">
                            <div class="input-group-prepend">
                                <span class="input-group-text" id="input-time">Time</span>
                            </div>
                            <input id="duration-event" type="number" class="form-control"
                                   aria-label="Time" aria-describedby="input-time" value="10">
                        </div>

                        <div class="btn-group" role="group" aria-label="Actions">
                            <button type="button" class="btn btn-outline-secondary" onclick="sendAddLeftEventMessage()">
                                Left
                            </button>
                            <button type="button" class="btn btn-outline-secondary" onclick="sendAddRestEventMessage()">
                                Rest
                            </button>
                            <button type="button" class="btn btn-outline-secondary"
                                    onclick="sendAddRightEventMessage()">Right
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <br/>

        <div class="row justify-content-sm-center">
            <div class="col-sm-8">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Data acquisition</h5>
                        <div class="row justify-content-between data-acquisition">
                            <div class="col-sm-4">
                                <div class="row">
                                    <span id="left-arrow" class="arrow-off">
                                      <i class="fas fa-arrow-circle-left fa-7x"></i>
                                    </span>
                                </div>
                                <div class="row justify-content-center">
                                    <p id="left-timer"></p>
                                </div>
                            </div>
                            <div class="col-sm-4">
                                <div class="row justify-content-end">
                                    <span id="right-arrow" class="arrow-off">
                                      <i class="fas fa-arrow-circle-right fa-7x"></i>
                                    </span>
                                </div>
                                <div class="row justify-content-center">
                                    <p id="right-timer"></p>
                                </div>
                            </div>
                        </div>

                        <div class="float-right">
                            <button id="stop-data-acquisition-button" type="button" class="btn btn-stop"
                                    onclick="stopDataAcquisition()" disabled>
                                <i class="fas fa-stop-circle"></i> Stop
                            </button>
                            <button id="start-data-acquisition-button" type="button" class="btn btn-primary"
                                    onclick="sendStartDataAcquisitionMessage()">
                                <i class="fas fa-play-circle"></i> Start
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="/javascripts/data-acquisition-layout-configuration.js"></script>
<script src="/javascripts/events-management.js"></script>
</body>

</html>